workflowname: idbac_analysis_workflow
workflowdescription: idbac_analysis_workflow
workflowlongdescription: This is a idbac analysis nextflow workflow for GNPS2
workflowversion: "2025.02.05.00"
workflowfile: nf_workflow.nf
workflowautohide: false
adminonly: false
#This maps the parameters from an input form to those that will appear in nextflow
parameterlist:
    - displayname: File Selection
      paramtype: section

    - displayname: Input Protein Folder
      paramtype: fileselector
      nf_paramname: input_spectra_folder
      formplaceholder: Enter the path to data
      formvalue: ""
      targettaskfolder: input_spectra
      optional: false
      selectsinglefile: false
      folderunroll: true

    - displayname: Input Small Molecule Folder
      paramtype: fileselector
      nf_paramname: input_small_molecule_folder
      formplaceholder: Enter the path to data
      formvalue: ""
      targettaskfolder: input_small_molecule_folder
      optional: false
      selectsinglefile: false
      folderunroll: true

    - displayname: Input Small Molecule Media Control Folder (Optional)
      paramtype: fileselector
      nf_paramname: input_media_control_folder
      formplaceholder: Enter the path to data
      formvalue: ""
      targettaskfolder: input_media_control
      optional: true
      selectsinglefile: false
      folderunroll: true
      tooltip: "Upload a folder containing media control files for small molecule data. File names must match those in the metadata file."

    - displayname: Input Metadata File (Optional)
      paramtype: fileselector
      nf_paramname: input_metadata_file
      formplaceholder: Enter the path to data
      formvalue: ""
      targettaskfolder: input_metadata_file
      optional: true
      selectsinglefile: true
      folderunroll: true

    - displayname: Parameters
      paramtype: section

    - displayname: Distance Metric
      paramtype: select
      nf_paramname: distance
      formvalue: "cosine"
      options:
        - value: "presence"
          display: "Presence"
        - value: "cosine"
          display: "Cosine"
        - value: "euclidean"
          display: "Euclidean"

    - displayname: Similarity Calculation Bin Size (Da)
      paramtype: select
      nf_paramname: search_bin_size
      formvalue: 10
      options:
        - value: 1
          display: "1 Da"
        - value: 5
          display: "5 Da"
        - value: 10
          display: "10 Da"

    - displayname: Protein Database Search Mass Range Lower Bound
      paramtype: text
      nf_paramname: database_search_mass_range_lower
      formplaceholder: Enter the Database Search Mass Range
      formvalue: "3000"
      tooltip: "The lower bound of m/z values when comparing protein spectra to the database."

    - displayname: Protein Database Search Mass Range Upper Bound
      paramtype: text
      nf_paramname: database_search_mass_range_upper
      formplaceholder: Enter the Database Search Mass Range
      formvalue: "20000"
      tooltip: "The upper bound of m/z values when comparing protein spectra to the database."

    - displayname: Protein Database Search Distance Threshold
      paramtype: text
      nf_paramname: database_search_threshold
      formplaceholder: Enter the Database Search Distance Threshold
      formvalue: "0.5"
      tooltip: "The maximumum distance threshold for a protein to be considered a match to the database."

    - displayname: Seed Genera
      paramtype: select # select_checkbox # <-- should be used when a dropdown is implemented
      selecttype: multi
      nf_paramname: seed_genera
      tooltip: "These genera will be included in search results regardless of similarity."
      formvalue: ''
      options-from-url:
        url: https://idbac.org/analysis-utils/get_genus_options
        value-key: "value-key"
        display-key: "display-key"

    - displayname: Seed Species
      paramtype: select # select_checkbox # <-- should be used when a dropdown is implemented
      nf_paramname: seed_species
      selecttype: multi
      tooltip: "These species will be included in search results regardless of similarity."
      formvalue: ''
      options-from-url:
        url: https://idbac.org/analysis-utils/get_species_options
        value-key: "value-key"
        display-key: "display-key"

